<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.5">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'PingFang TC'}
    span.s1 {font: 12.0px 'Apple Color Emoji'}
    span.s2 {font: 12.0px 'PingFang TC'}
    span.s3 {font: 12.0px 'Zapf Dingbats'}
    span.s4 {font: 12.0px Helvetica}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="zh-TW"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;title&gt;<span class="s1">ğŸ§³</span> <span class="s2">è¬èƒ½å‡ºéŠæ‰“åŒ…ç¥å™¨</span> <span class="s1">âœ¨</span> (<span class="s2">å®Œæ•´ä¿®å¾©ç‰ˆ</span>)&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&amp;family=Noto+Sans+TC:wght@400;700;900&amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* --- <span class="s2">å…¨å±€è¨­å®š</span> --- */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>body { font-family: 'Nunito', 'Noto Sans TC', sans-serif; background: linear-gradient(135deg, #fcf9f2 0%, #f0f4f8 100%); color: #5c5c5c; max-width: 600px; margin: 0 auto; padding: 20px 20px 100px 20px; min-height: 100vh; box-sizing: border-box; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>h1 { text-align: center; color: #7f95a3; font-weight: 900; margin-bottom: 20px; letter-spacing: 2px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* --- <span class="s2">é ‚éƒ¨æŒ‰éˆ•èˆ‡æ‡¸æµ®æŒ‰éˆ•</span> --- */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.top-action-bar { display: flex; justify-content: flex-end; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.action-btn { border: none; font-size: 0.9em; cursor: pointer; padding: 8px 14px; border-radius: 12px; transition: 0.2s; font-weight: 800; display: inline-flex; align-items: center; gap: 5px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.clear-btn { background: #fdf5f5; color: #d8a7a7; } .clear-btn:hover { background: #d8a7a7; color: white; transform: scale(1.05); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.share-btn { background: #e6f5ea; color: #7ab88b; } .share-btn:hover { background: #7ab88b; color: white; transform: scale(1.05); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.setting-btn { background: #ece6f5; color: #937ab8; } .setting-btn:hover { background: #937ab8; color: white; transform: scale(1.05); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.fab-btn { position: fixed; bottom: 30px; right: 30px; width: 65px; height: 65px; border-radius: 50%; background: #d8a7a7; color: white; border: none; box-shadow: 0 6px 15px rgba(216, 167, 167, 0.4); font-size: 1.8em; cursor: pointer; z-index: 100; display: flex; align-items: center; justify-content: center; transition: 0.3s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.fab-btn:hover { transform: scale(1.08) rotate(5deg); background: #cc9797; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.magic-btn { position: fixed; bottom: 30px; left: 30px; width: 65px; height: 65px; border-radius: 50%; background: #9ab4c2; color: white; border: none; box-shadow: 0 6px 15px rgba(154, 180, 194, 0.4); font-size: 1.8em; cursor: pointer; z-index: 100; display: flex; align-items: center; justify-content: center; transition: 0.3s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.magic-btn:hover { transform: scale(1.08) rotate(-5deg); background: #8ba5b3; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* --- <span class="s2">å½ˆçª—èˆ‡è¡¨å–®è¨­è¨ˆ</span> --- */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(90, 100, 110, 0.4); backdrop-filter: blur(4px); z-index: 1000; justify-content: center; align-items: center; animation: fadeIn 0.3s ease; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal-content { position: relative; background: #fffcf8; width: 90%; max-width: 400px; border-radius: 24px; padding: 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.08); animation: slideUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); max-height: 90vh; overflow-y: auto; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>@keyframes slideUp { from { transform: translateY(30px) scale(0.95); } to { transform: translateY(0) scale(1); } }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.close-btn { position: absolute; top: 15px; right: 15px; background: #f0f0f0; border: none; color: #888; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; display: flex; justify-content: center; align-items: center; transition: 0.2s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.close-btn:hover { background: #e0e0e0; color: #555; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal-content h3 { margin-top: 0; margin-bottom: 15px; font-size: 1.3em; color: #7f95a3; text-align: center; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.modal-subtitle { text-align: center; color: #8c8c8c; font-size: 0.9em; margin-bottom: 15px; line-height: 1.5; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.input-group { display: flex; flex-direction: column; gap: 12px; margin-bottom: 15px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.input-group select, .input-group input, .input-group textarea { width: 100%; box-sizing: border-box; padding: 14px; border: 2px solid #e8e6e1; border-radius: 16px; font-size: 0.95em; background: #fdfdfc; outline: none; transition: 0.3s; font-family: inherit; color: #5c5c5c; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.input-group input:focus, .input-group textarea:focus, .input-group select:focus { border-color: #c4d4db; background: #fff; }</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.magic-mode-container { display: flex; flex-direction: column; gap: 8px; background: #f6f8fa; padding: 12px 15px; border-radius: 14px; border: 1px dashed #c4d4db; margin-bottom: 15px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.magic-mode-container label { display: flex; align-items: center; gap: 8px; font-size: 0.95em; color: #5c5c5c; cursor: pointer; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.magic-mode-container input[type="radio"] { cursor: pointer; transform: scale(1.1); accent-color: #9ab4c2; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.add-btn { background: #d8a7a7; color: white; border: none; padding: 15px; border-radius: 16px; cursor: pointer; font-weight: 800; font-size: 1.1em; width: 100%; transition: 0.2s; margin-top: 10px; box-shadow: 0 4px 10px rgba(216, 167, 167, 0.3); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.add-btn:hover { transform: translateY(-2px); background: #cc9797; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.magic-submit-btn { background: #9ab4c2; box-shadow: 0 4px 10px rgba(154, 180, 194, 0.3); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.magic-submit-btn:hover { background: #8ba5b3; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.magic-submit-btn:disabled { background: #cbd5e1; cursor: not-allowed; transform: none; box-shadow: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.edit-submit-btn { background: #7ab88b; box-shadow: 0 4px 10px rgba(122, 184, 139, 0.3); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.edit-submit-btn:hover { background: #6da37c; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* --- <span class="s1">âœ¨</span> <span class="s2">é—œéµå­—æ¨™ç±¤æ¨£å¼</span> (<span class="s2">ä¿®å¾©åŠ å›</span>) <span class="s1">âœ¨</span> --- */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.keyword-panel { margin-bottom: 15px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.keyword-group-title { font-size: 0.85em; color: #8ba5b3; margin-bottom: 8px; font-weight: bold; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.keyword-tags { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.kw-tag { background: #f0f4f8; color: #7f95a3; font-size: 0.85em; padding: 6px 12px; border-radius: 20px; cursor: pointer; border: 1px solid #e1e8ed; transition: 0.2s; font-weight: 700; display: inline-block;}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.kw-tag:hover { background: #9ab4c2; color: #fff; border-color: #9ab4c2; transform: translateY(-2px); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.history-tag { background: #fdf5f5; color: #d8a7a7; border-color: #f7e1e1; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.history-tag:hover { background: #d8a7a7; color: #fff; border-color: #d8a7a7; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.share-option-btn { background: #fff; color: #5c5c5c; border: 2px solid #e8e6e1; padding: 15px; border-radius: 16px; cursor: pointer; font-weight: 800; font-size: 1em; width: 100%; transition: 0.2s; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; gap: 8px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.share-option-btn:hover { background: #f0f4f8; border-color: #9ab4c2; color: #7f95a3;}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>/* --- <span class="s2">æ¸…å–®èˆ‡ä»»å‹™å¡ç‰‡</span> --- */</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.date-section { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(10px); border-radius: 24px; padding: 25px; margin-bottom: 25px; box-shadow: 0 8px 25px rgba(140, 150, 160, 0.05); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.date-title { font-size: 1.25em; font-weight: 900; margin-bottom: 15px; color: #6a7b87; padding-bottom: 12px; border-bottom: 2px dashed #e8e6e1; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.category-header { font-size: 0.95em; font-weight: 800; margin: 20px 0 10px 0; padding-left: 5px; color: #8c8c8c; display: flex; align-items: center; }</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.task-item { display: flex; align-items: center; margin-bottom: 12px; padding: 14px; background: #fff; border-radius: 16px; border: 1px solid #f2f0ec; transition: all 0.2s; box-shadow: 0 2px 6px rgba(0,0,0,0.02); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.task-item:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.05); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.task-item input[type="checkbox"] { display: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.check-icon { font-size: 1.5em; margin-right: 14px; cursor: pointer; transition: 0.3s; user-select: none; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.check-icon::before { content: '<span class="s1">âšª</span>'; opacity: 0.3; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>input[type="checkbox"]:checked + .check-icon::before { content: '<span class="s1">ğŸŒ¸</span>'; opacity: 1; filter: saturate(0.8); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>input[type="checkbox"]:checked + .check-icon { transform: scale(1.1); }</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.task-content { flex-grow: 1; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.task-title { font-weight: 700; margin-bottom: 4px; font-size: 1.05em; color: #5c5c5c; display: flex; align-items: center; gap: 8px;}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.task-note { font-size: 0.85em; color: #9c9c9c; background: #f7f6f4; padding: 6px 10px; border-radius: 8px; display: inline-block; margin-top: 4px;}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.completed .task-title { text-decoration: line-through; color: #c4c4c4; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.completed .task-note { opacity: 0.5; }</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.category-tag { font-size: 0.75em; padding: 4px 10px; border-radius: 12px; font-weight: 800; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.task-actions { display: flex; gap: 6px; margin-left: 10px; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.delete-btn { background: #fdf5f5; color: #d8a7a7; border: none; font-size: 1em; cursor: pointer; padding: 8px; border-radius: 10px; transition: 0.2s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.delete-btn:hover { background: #d8a7a7; color: white; transform: scale(1.1); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.edit-btn { background: #f0f4f8; color: #7f95a3; border: none; font-size: 1em; cursor: pointer; padding: 8px; border-radius: 10px; transition: 0.2s; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.edit-btn:hover { background: #9ab4c2; color: white; transform: scale(1.1); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;h1&gt;<span class="s2">è¬èƒ½æ‰“åŒ…ç¥å™¨</span> <span class="s1">ğŸ§³</span>&lt;/h1&gt;</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="top-bar" class="top-action-bar"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="action-btn setting-btn" onclick="openSettingModal()"&gt;<span class="s1">âš™ï¸</span> AI <span class="s2">å¼•æ“åˆ‡æ›</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="action-btn share-btn" onclick="openShareModal()" id="btn-share" style="display:none;"&gt;<span class="s1">ğŸ“¤</span> <span class="s2">åˆ†äº«</span>/<span class="s2">å…±ç”¨</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button class="action-btn clear-btn" onclick="clearAllData()" id="btn-clear" style="display:none;"&gt;<span class="s1">ğŸ§¹</span> <span class="s2">æ¸…ç©º</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="app"&gt;&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;button class="magic-btn" onclick="openMagicModal()" title="<span class="s2">æ™ºæ…§ç”¢ç”Ÿæ¸…å–®</span>"&gt;<span class="s1">ğŸ’¡</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;button class="fab-btn" onclick="openModal()" title="<span class="s2">æ‰‹å‹•æ–°å¢å¾…è¾¦</span>"&gt;<span class="s1">â•</span>&lt;/button&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="settingModal" class="modal-overlay" onclick="closeModalOnOutsideClick(event, 'settingModal')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="modal-content" style="border-color: #cba6e8;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="close-btn" onclick="closeModal('settingModal')"&gt;<span class="s3">âœ–</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h3 style="color: #937ab8;"&gt;<span class="s1">âš™ï¸</span> <span class="s2">é¸æ“‡æ‚¨çš„æ™ºæ…§å¼•æ“</span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;p class="modal-subtitle" style="text-align: left; font-size: 0.85em; color: #666;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;b&gt;<span class="s1">ğŸ’¡</span> <span class="s2">å…§å»ºè¶…é€Ÿå¼•æ“</span> (<span class="s2">é è¨­</span>)<span class="s2">ï¼š</span>&lt;/b&gt;<span class="s2">å…é‡‘é‘°ã€ç¬é–“ç”¢å‡ºå¯¦ç”¨æ¸…å–®ã€‚</span>&lt;br&gt;&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;b&gt;<span class="s1">ğŸ§ </span> <span class="s2">çœŸâ€§</span>AI <span class="s2">å¼•æ“ï¼š</span>&lt;/b&gt;<span class="s2">å¯è²¼ä¸Š</span> API Key <span class="s2">è§£é–æ¥µè‡´å®¢è£½åŒ–å¤§è…¦ï¼</span>&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span style="color: #d8a7a7; font-size: 0.85em;"&gt;*<span class="s2">è‹¥æœªå¡«å¯«æˆ–å‘¼å«å¤±æ•—ï¼Œå°‡è‡ªå‹•åˆ‡æ›å›å…§å»ºå¼•æ“ã€‚</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="api-provider-select" onchange="updateApiTips()"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="gemini"&gt;<span class="s1">ğŸ§ </span> Google Gemini (<span class="s2">æ¨è–¦ï¼Œæœ‰å…è²»é¡åº¦</span>)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;option value="openai"&gt;<span class="s1">ğŸ’¬</span> OpenAI ChatGPT (gpt-4o-mini)&lt;/option&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div id="api-tips" style="font-size: 0.8em; color: #7ab88b; margin-top: -5px; padding-left: 5px;"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="password" id="api-key-input" placeholder="<span class="s2">å¯ç•™ç©ºã€‚è‹¥è¦å•Ÿç”¨çœŸ</span>AI<span class="s2">ï¼Œè«‹è²¼ä¸Šé‡‘é‘°</span>"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="add-btn setting-btn" style="background:#937ab8;" onclick="saveApiKey()"&gt;<span class="s1">ğŸ’¾</span> <span class="s2">å„²å­˜è¨­å®š</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="addModal" class="modal-overlay" onclick="closeModalOnOutsideClick(event, 'addModal')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="modal-content"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="close-btn" onclick="closeModal('addModal')"&gt;<span class="s3">âœ–</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h3&gt;<span class="s2">æ–°å¢å¾…è¾¦é …ç›®</span> <span class="s1">âœ¨</span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="new-date-select" onchange="toggleCustomDate()"&gt;&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="date" id="new-date-input" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="new-category-select" onchange="toggleCustomCategory()" style="display: none;"&gt;&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="new-category-input" placeholder="<span class="s2">è«‹è¼¸å…¥åˆ†é¡åç¨±</span> (<span class="s2">ä¾‹</span>: <span class="s1">ğŸ‘•</span> <span class="s2">è¡£ç‰©</span>)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="new-title" placeholder="<span class="s2">ç‰©å“åç¨±</span>* (<span class="s2">å¿…å¡«</span>)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="new-note" placeholder="<span class="s2">å‚™è¨»ç´°ç¯€</span> (<span class="s2">é¸å¡«</span>)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="add-btn" onclick="addNewTask()"&gt;<span class="s2">åŠ å…¥æ¸…å–®</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="editModal" class="modal-overlay" onclick="closeModalOnOutsideClick(event, 'editModal')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="modal-content" style="border-color: #a1d6b2;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="close-btn" onclick="closeModal('editModal')"&gt;<span class="s3">âœ–</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h3 style="color: #7ab88b;"&gt;<span class="s2">ç·¨è¼¯å¾…è¾¦é …ç›®</span> <span class="s1">âœï¸</span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="edit-date-select" onchange="toggleEditCustomDate()"&gt;&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="date" id="edit-date-input" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;select id="edit-category-select" onchange="toggleEditCustomCategory()"&gt;&lt;/select&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="edit-category-input" placeholder="<span class="s2">è«‹è¼¸å…¥åˆ†é¡åç¨±</span>" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="edit-title" placeholder="<span class="s2">ç‰©å“åç¨±</span>* (<span class="s2">å¿…å¡«</span>)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="edit-note" placeholder="<span class="s2">å‚™è¨»ç´°ç¯€</span> (<span class="s2">é¸å¡«</span>)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="add-btn edit-submit-btn" onclick="saveEditTask()"&gt;<span class="s2">å„²å­˜ä¿®æ”¹</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="magicModal" class="modal-overlay" onclick="closeModalOnOutsideClick(event, 'magicModal')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="modal-content"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="close-btn" onclick="closeModal('magicModal')"&gt;<span class="s3">âœ–</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h3&gt;<span class="s2">å…¨èƒ½æ‰“åŒ…å°å¹«æ‰‹</span> <span class="s1">ğŸ’¡</span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;p class="modal-subtitle"&gt;<span class="s2">é»æ“Šä¸‹æ–¹æ¨™ç±¤ï¼Œæˆ–ç›´æ¥è¼¸å…¥ä»»ä½•å¤©é¦¬è¡Œç©ºçš„è¡Œç¨‹ï¼</span>&lt;/p&gt;</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="keyword-panel"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="keyword-group-title"&gt;<span class="s1">ğŸ’¡</span> <span class="s2">é»æ“ŠåŠ å…¥æ¨è–¦é—œéµå­—ï¼š</span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="keyword-tags"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span class="kw-tag" onclick="appendKeyword('<span class="s2">å‡ºåœ‹</span>')"&gt;<span class="s1">âœˆï¸</span> <span class="s2">å‡ºåœ‹</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span class="kw-tag" onclick="appendKeyword('<span class="s2">å¸¶é•·è¼©</span>')"&gt;<span class="s1">ğŸ‘µ</span> <span class="s2">å¸¶é•·è¼©</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span class="kw-tag" onclick="appendKeyword('<span class="s2">å¸¶å¯¶å¯¶</span>')"&gt;<span class="s1">ğŸ¼</span> <span class="s2">å¸¶å¯¶å¯¶</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span class="kw-tag" onclick="appendKeyword('<span class="s2">è¡Œå‹•ä¸ä¾¿</span>')"&gt;<span class="s1">ğŸ¦½</span> <span class="s2">è¡Œå‹•ä¸ä¾¿</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span class="kw-tag" onclick="appendKeyword('<span class="s2">å¸¶å¯µç‰©</span>')"&gt;<span class="s1">ğŸ•</span> <span class="s2">å¸¶å¯µç‰©</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span class="kw-tag" onclick="appendKeyword('<span class="s2">é–‹è»Šè‡ªé§•</span>')"&gt;<span class="s1">ğŸš—</span> <span class="s2">é–‹è»Šè‡ªé§•</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span class="kw-tag" onclick="appendKeyword('<span class="s2">å†¬å¤©</span>')"&gt;<span class="s1">â„ï¸</span> <span class="s2">å†¬å¤©</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span class="kw-tag" onclick="appendKeyword('<span class="s2">æµ·é‚Šç©æ°´</span>')"&gt;<span class="s1">ğŸ–ï¸</span> <span class="s2">æµ·é‚Šç©æ°´</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;span class="kw-tag" onclick="appendKeyword('<span class="s2">ä¸‰å¤©å…©å¤œ</span>')"&gt;<span class="s1">ğŸ’</span> <span class="s2">ä¸‰å¤©å…©å¤œ</span>&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="keyword-group-title" id="history-title" style="display: none; margin-top: 15px;"&gt;<span class="s1">ğŸ•’</span> <span class="s2">æœ€è¿‘è¼¸å…¥é</span> (<span class="s2">é»æ“Šç›´æ¥å¸¶å…¥</span>)<span class="s2">ï¼š</span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div id="history-keywords" class="keyword-tags"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="input-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;textarea id="magic-prompt" rows="3" placeholder="<span class="s2">ä¾‹å¦‚ï¼šå¸¶å®¹æ˜“ç·Šå¼µçš„æŸ´çŠ¬å»åŒ—æµ·é“çœ‹é›ªäº”å¤©å››å¤œï¼Œæˆ‘å®¹æ˜“èƒƒç—›ï¼Œè€Œä¸”å–œæ­¡æ”å½±</span>..."&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="magic-mode-group" class="magic-mode-container" style="display: none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div style="font-size: 0.85em; color: #8ba5b3; margin-bottom: 4px; font-weight: bold;"&gt;<span class="s2">ç™¼ç¾ç¾æœ‰æ¸…å–®ï¼Œæ‚¨å¸Œæœ›ï¼š</span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;&lt;input type="radio" name="magic-mode" value="append" checked&gt; <span class="s1">â•</span> <span class="s2">é™„åŠ åœ¨ç¾æœ‰æ¸…å–®ä¸‹</span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;&lt;input type="radio" name="magic-mode" value="overwrite"&gt; <span class="s1">ğŸ—‘ï¸</span> <span class="s2">æ¸…ç©ºä¸¦é‡æ–°ç”Ÿæˆ</span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button id="magic-submit-btn" class="add-btn magic-submit-btn" onclick="runMagicEngine()"&gt;<span class="s1">âœ¨</span> <span class="s2">ç”¢ç”Ÿå°ˆå±¬æ¸…å–®</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="shareModal" class="modal-overlay" onclick="closeModalOnOutsideClick(event, 'shareModal')"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="modal-content"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="close-btn" onclick="closeModal('shareModal')"&gt;<span class="s3">âœ–</span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h3&gt;<span class="s1">ğŸ“¤</span> <span class="s2">åˆ†äº«çµ¦ç¥éšŠå‹</span>&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;p class="modal-subtitle"&gt;<span class="s2">è«‹é¸æ“‡æ‚¨æƒ³è¦çš„åˆ†äº«æ–¹å¼ï¼š</span>&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="share-option-btn" onclick="copyAsText()"&gt;<span class="s1">ğŸ“</span> <span class="s2">è¤‡è£½ç´”æ–‡å­—</span> (<span class="s2">é©åˆè²¼åˆ°</span> LINE)&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="share-option-btn" onclick="copyMagicLink()" style="border-color: #9ab4c2; color: #7f95a3;"&gt;<span class="s1">ğŸ”—</span> <span class="s2">è¤‡è£½é­”æ³•é€£çµ</span> (<span class="s2">åŒ¯å…¥åˆ°å°æ–¹æ‰‹æ©Ÿ</span>)&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s2">è³‡æ–™åˆå§‹åŒ–</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>let data = { "checklists": [] };</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>let magicHistory = [];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>let editingTaskId = null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>let editingTaskOldDate = null;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const appDiv = document.getElementById('app');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const categoryStyles = {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ’³</span> <span class="s2">é‡è¦å¿…å‚™</span>": { bg: "#f5e6e6", color: "#b87a7a", line: "#d6a1a1" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">âœˆï¸</span> <span class="s2">å‡ºåœ‹å°ˆå±¬</span>": { bg: "#f5eee6", color: "#b8957a", line: "#d6bba1" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ‘•</span> <span class="s2">è¡£ç‰©ç©¿æ­</span>": { bg: "#e6eef5", color: "#7a9cb8", line: "#a1bcd6" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ§´</span> <span class="s2">å€‹äººè­·ç†</span>": { bg: "#e6f5ea", color: "#7ab88b", line: "#a1d6b2" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ”Œ</span> 3C<span class="s2">é›»å­</span>": { bg: "#ece6f5", color: "#937ab8", line: "#bca1d6" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ¥£</span> <span class="s2">é£²é£Ÿç›¸é—œ</span>": { bg: "#f5ebe6", color: "#b88a7a", line: "#d6aca1" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ¼</span> <span class="s2">å¯¶å¯¶å°ˆå±¬</span>": { bg: "#f5e6ee", color: "#b87a9f", line: "#d6a1c1" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ‘µ</span> <span class="s2">é•·è¼©å°ˆå±¬</span>": { bg: "#f0e6f5", color: "#8c7ab8", line: "#c1a1d6" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ¦½</span> <span class="s2">ç„¡éšœç¤™è¼”å…·</span>": { bg: "#e6eef5", color: "#7a9cb8", line: "#a1bcd6" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">â„ï¸</span> <span class="s2">å†¬å­£ä¿æš–</span>": { bg: "#e6f1f5", color: "#7aaab8", line: "#a1c7d6" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ–ï¸</span> <span class="s2">ç©æ°´è£å‚™</span>": { bg: "#e6f5f3", color: "#7ab8ae", line: "#a1d6ce" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ•ï¸</span> <span class="s2">æˆ¶å¤–éœ²ç‡Ÿ</span>": { bg: "#edf5e6", color: "#96b87a", line: "#b8d6a1" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ’¼</span> <span class="s2">å•†å‹™å·¥ä½œ</span>": { bg: "#ebebeb", color: "#7a7a7a", line: "#b3b3b3" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸš—</span> <span class="s2">äº¤é€šè‡ªé§•</span>": { bg: "#eef5e6", color: "#9fb87a", line: "#c2d6a1" },<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ•</span> <span class="s2">å¯µç‰©å°ˆå±¬</span>": { bg: "#f5eee6", color: "#b8957a", line: "#d6bba1" },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>"<span class="s1">ğŸ“</span> <span class="s2">å…¶ä»–é›œé …</span>": { bg: "#f0f0f0", color: "#8c8c8c", line: "#cccccc" } <span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const fallbackStyles = [ { bg: "#f5f3ed", color: "#a39b8a", line: "#d1cbb8" }, { bg: "#f0f4f8", color: "#7a9cb8", line: "#a1bcd6" }, { bg: "#f5e6e6", color: "#b87a7a", line: "#d6a1a1" }, { bg: "#e6f5ea", color: "#7ab88b", line: "#a1d6b2" }, { bg: "#ece6f5", color: "#937ab8", line: "#bca1d6" } ];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function getCategoryStyle(catName) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (categoryStyles[catName]) return categoryStyles[catName];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let charCodeSum = 0; for(let i = 0; i &lt; catName.length; i++) charCodeSum += catName.charCodeAt(i);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return fallbackStyles[charCodeSum % fallbackStyles.length];</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s2">è³‡æ–™è®€å¯«èˆ‡æª¢æŸ¥åŒ¯å…¥</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function checkImportData() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if(window.location.hash &amp;&amp; window.location.hash.startsWith('#share=')) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const encodedData = window.location.hash.substring(7);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const decodedStr = decodeURIComponent(atob(encodedData));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const importedData = JSON.parse(decodedStr);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>if(importedData &amp;&amp; importedData.checklists) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>if(confirm("<span class="s1">ğŸ“¦</span> <span class="s2">åµæ¸¬åˆ°åˆ¥äººåˆ†äº«çš„æ¸…å–®ï¼</span>\n<span class="s2">æ˜¯å¦è¦åŒ¯å…¥ä¸¦è¦†è“‹æ‚¨ç›®å‰çš„æ¸…å–®ï¼Ÿ</span>")) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>data = importedData; saveData(); alert("<span class="s1">âœ…</span> <span class="s2">åŒ¯å…¥æˆåŠŸï¼</span>");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>history.replaceState(null, null, ' ');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>} catch(e) {}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function loadData() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>checkImportData();<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const savedData = localStorage.getItem('aesthetic-trip-ultimate');<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (savedData) data = JSON.parse(savedData);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const savedHistory = localStorage.getItem('magic-history-ultimate');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (savedHistory) magicHistory = JSON.parse(savedHistory);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function saveData() { localStorage.setItem('aesthetic-trip-ultimate', JSON.stringify(data)); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function saveHistory(prompt) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>magicHistory = magicHistory.filter(item =&gt; item !== prompt); magicHistory.unshift(prompt);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (magicHistory.length &gt; 3) magicHistory.pop(); localStorage.setItem('magic-history-ultimate', JSON.stringify(magicHistory));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s2">å½ˆçª—é€šç”¨æ§åˆ¶</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function closeModal(modalId) { document.getElementById(modalId).style.display = 'none'; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function closeModalOnOutsideClick(event, modalId) { if (event.target === document.getElementById(modalId)) closeModal(modalId); }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s2">åŠŸèƒ½ï¼šä¸€éµæ¸…ç©º</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function clearAllData() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (data.checklists.length === 0) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (confirm("<span class="s2">ç¢ºå®šè¦ã€Œä¸€éµæ¸…ç©ºã€æ‰€æœ‰æ¸…å–®å—ï¼Ÿ</span>\n<span class="s2">é€™å€‹å‹•ä½œç„¡æ³•å¾©åŸå–”ï¼</span><span class="s1">ğŸ§¹</span>")) {<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>data.checklists = []; saveData(); renderTasks();<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s2">åŠŸèƒ½ï¼šåˆªé™¤é …ç›®</span> (<span class="s2">ä¿®å¾©é˜²å‘†å‚³åƒ</span>) ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function deleteTask(dateString, taskId, taskTitle) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const safeTitle = taskTitle || '<span class="s2">æ­¤é …ç›®</span>';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (confirm(`<span class="s2">ç¢ºå®šè¦åˆªé™¤ã€Œ</span>${safeTitle}<span class="s2">ã€å—ï¼Ÿ</span><span class="s1">ğŸ—‘ï¸</span>`)) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const dayIndex = data.checklists.findIndex(d =&gt; d.date === dateString);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if (dayIndex !== -1) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>data.checklists[dayIndex].tasks = data.checklists[dayIndex].tasks.filter(t =&gt; t.id !== taskId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>if (data.checklists[dayIndex].tasks.length === 0) data.checklists.splice(dayIndex, 1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>saveData(); renderTasks();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- API <span class="s2">è¨­å®š</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function updateApiTips() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const provider = document.getElementById('api-provider-select').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const tipsEl = document.getElementById('api-tips');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if(provider === 'gemini') tipsEl.innerHTML = '<span class="s1">ğŸ‘‰</span> <span class="s2">å‰å¾€</span> &lt;a href="https://aistudio.google.com/app/apikey" target="_blank" style="color: #9ab4c2;"&gt;Google AI Studio&lt;/a&gt; <span class="s2">ç”³è«‹</span> (<span class="s2">å…ç¶å¡</span>)';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>else tipsEl.innerHTML = '<span class="s1">ğŸ‘‰</span> <span class="s2">å‰å¾€</span> &lt;a href="https://platform.openai.com/api-keys" target="_blank" style="color: #9ab4c2;"&gt;OpenAI Platform&lt;/a&gt; <span class="s2">ç”³è«‹</span> (<span class="s2">éœ€æœ‰é¡åº¦</span>)';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function openSettingModal() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('settingModal').style.display = 'flex';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('api-provider-select').value = localStorage.getItem('univ_api_provider') || 'gemini';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('api-key-input').value = localStorage.getItem('univ_api_key') || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>updateApiTips();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function saveApiKey() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const provider = document.getElementById('api-provider-select').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const key = document.getElementById('api-key-input').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>localStorage.setItem('univ_api_provider', provider);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if(key) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>localStorage.setItem('univ_api_key', key);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>alert(`<span class="s1">âœ…</span> <span class="s2">è¨­å®šæˆåŠŸï¼ç³»çµ±å·²æ›è¼‰çœŸ</span>Â·AI <span class="s2">å¤§è…¦ã€‚</span>`);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>localStorage.removeItem('univ_api_key');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>alert(`<span class="s1">ğŸ’¡</span> <span class="s2">é‡‘é‘°å·²æ¸…é™¤ã€‚ç³»çµ±å°‡ä½¿ç”¨ã€Œæ¥µé€Ÿå…§å»ºæ™ºæ…§å¼•æ“ã€ç‚ºæ‚¨æœå‹™ã€‚</span>`);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>closeModal('settingModal');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s2">åˆ†äº«åŠŸèƒ½</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function openShareModal() { document.getElementById('shareModal').style.display = 'flex'; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function copyAsText() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let textOutput = "<span class="s1">ğŸ§³</span> <span class="s2">æˆ‘çš„æ‰“åŒ…æ¸…å–®</span>\n-------------------\n";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>data.checklists.forEach(day =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>textOutput += `\n${day.date === '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>' ? '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§å¿«é€Ÿç¸½è¡¨</span>' : '<span class="s1">ğŸ—“ï¸</span> ' + day.date}\n`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const grouped = {}; day.tasks.forEach(t =&gt; { if(!grouped[t.category]) grouped[t.category]=[]; grouped[t.category].push(t); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>Object.keys(grouped).sort().forEach(cat =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>textOutput += `<span class="s2">ã€</span>${cat}<span class="s2">ã€‘</span>\n`; grouped[cat].forEach(t =&gt; { textOutput += `${t.isCompleted ? "<span class="s1">âœ…</span>" : "<span class="s1">âšª</span>"} ${t.title}${t.note ? ` (${t.note})` : ""}\n`; });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>navigator.clipboard.writeText(textOutput).then(() =&gt; { alert("<span class="s1">ğŸ“</span> <span class="s2">è¤‡è£½æˆåŠŸï¼å¯ä»¥ç›´æ¥è²¼åˆ°</span> LINE <span class="s2">å›‰ï¼</span>"); closeModal('shareModal'); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function copyMagicLink() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const encoded = btoa(encodeURIComponent(JSON.stringify(data)));</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>navigator.clipboard.writeText(`${window.location.href.split('#')[0]}#share=${encoded}`).then(() =&gt; { alert("<span class="s1">ğŸ”—</span> <span class="s2">é­”æ³•é€£çµè¤‡è£½æˆåŠŸï¼</span>"); closeModal('shareModal'); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>} catch(e) { alert("<span class="s2">æ¸…å–®éå¤§ï¼Œç„¡æ³•ç”¢ç”Ÿé€£çµã€‚</span>"); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s1">âœ¨</span> <span class="s2">é—œéµå­—æ¨™ç±¤åŠŸèƒ½</span> <span class="s1">âœ¨</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function appendKeyword(keyword) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const textarea = document.getElementById('magic-prompt');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let currentText = textarea.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>textarea.value = currentText ? currentText + " " + keyword : keyword;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>textarea.focus();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function applyHistory(historyText) {<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('magic-prompt').value = historyText;<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function renderHistoryTags() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const container = document.getElementById('history-keywords');<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const title = document.getElementById('history-title');<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>container.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (magicHistory.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>title.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicHistory.forEach(text =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const span = document.createElement('span'); span.className = 'kw-tag history-tag';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>span.innerText = text.length &gt; 15 ? text.substring(0, 15) + '...' : text;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>span.title = text; span.onclick = () =&gt; applyHistory(text); container.appendChild(span);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>} else {<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>title.style.display = 'none';<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s2">é¸å–®ç”Ÿæˆé‚è¼¯</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function generateDateOptions(selectElement, defaultVal) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>selectElement.innerHTML = '';<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const existingDates = data.checklists.map(d =&gt; d.date).filter(d =&gt; d !== '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>existingDates.forEach(date =&gt; { const option = document.createElement('option'); option.value = date; option.text = `<span class="s1">ğŸ—“ï¸</span> ${date}`; selectElement.appendChild(option); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const generalOption = document.createElement('option'); generalOption.value = '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>'; generalOption.text = '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>'; selectElement.appendChild(generalOption);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const customOption = document.createElement('option'); customOption.value = 'custom'; customOption.text = '<span class="s1">â•</span> <span class="s2">æ–°å¢ç‰¹å®šæ—¥æœŸ</span>...'; selectElement.appendChild(customOption);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (defaultVal &amp;&amp; Array.from(selectElement.options).some(o =&gt; o.value === defaultVal)) selectElement.value = defaultVal;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>else if (existingDates.length &gt; 0) selectElement.value = existingDates[0]; else selectElement.value = '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function generateCategoryOptions(selectElement, inputElement, defaultVal) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>selectElement.innerHTML = ''; const activeCategories = new Set();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>data.checklists.forEach(day =&gt; { day.tasks.forEach(task =&gt; { if (task.category) activeCategories.add(task.category); }); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (activeCategories.size === 0) { selectElement.style.display = 'none'; inputElement.style.display = 'block'; inputElement.value = ''; }<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>selectElement.style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>activeCategories.forEach(cat =&gt; { const option = document.createElement('option'); option.value = cat; option.text = cat; selectElement.appendChild(option); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const customOption = document.createElement('option'); customOption.value = 'custom'; customOption.text = '<span class="s1">â•</span> <span class="s2">è‡ªè¨‚æ–°åˆ†é¡</span>...'; selectElement.appendChild(customOption);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if (defaultVal &amp;&amp; activeCategories.has(defaultVal)) { selectElement.value = defaultVal; inputElement.style.display = 'none'; inputElement.value = ''; }<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>else { selectElement.value = Array.from(activeCategories)[0]; inputElement.style.display = 'none'; inputElement.value = ''; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s2">æ–°å¢</span> / <span class="s2">ç·¨è¼¯</span> <span class="s2">é‚è¼¯</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function openModal() { document.getElementById('addModal').style.display = 'flex'; generateDateOptions(document.getElementById('new-date-select')); toggleCustomDate(); generateCategoryOptions(document.getElementById('new-category-select'), document.getElementById('new-category-input')); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function toggleCustomDate() { document.getElementById('new-date-input').style.display = document.getElementById('new-date-select').value === 'custom' ? 'block' : 'none'; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function toggleCustomCategory() { document.getElementById('new-category-input').style.display = document.getElementById('new-category-select').value === 'custom' ? 'block' : 'none'; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function openEditModal(dateString, taskId) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>editingTaskId = taskId; editingTaskOldDate = dateString;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const day = data.checklists.find(d =&gt; d.date === dateString); const task = day.tasks.find(t =&gt; t.id === taskId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if(!task) return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('editModal').style.display = 'flex';<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>generateDateOptions(document.getElementById('edit-date-select'), dateString); toggleEditCustomDate();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>generateCategoryOptions(document.getElementById('edit-category-select'), document.getElementById('edit-category-input'), task.category);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('edit-title').value = task.title; document.getElementById('edit-note').value = task.note || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function toggleEditCustomDate() { document.getElementById('edit-date-input').style.display = document.getElementById('edit-date-select').value === 'custom' ? 'block' : 'none'; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function toggleEditCustomCategory() { document.getElementById('edit-category-input').style.display = document.getElementById('edit-category-select').value === 'custom' ? 'block' : 'none'; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function saveEditTask() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const dateSelect = document.getElementById('edit-date-select');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let newDate = dateSelect.value === 'custom' ? document.getElementById('edit-date-input').value : dateSelect.value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (dateSelect.value === 'custom' &amp;&amp; !newDate) return alert("<span class="s2">è«‹é¸æ“‡æ—¥æœŸå–”ï¼</span><span class="s1">ğŸ—“ï¸</span>");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const catSelect = document.getElementById('edit-category-select'); const catInputEl = document.getElementById('edit-category-input');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let newCat = (catSelect.style.display === 'none' || catSelect.value === 'custom') ? catInputEl.value.trim() : catSelect.value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (!newCat) newCat = "<span class="s1">ğŸ“</span> <span class="s2">å…¶ä»–é›œé …</span>";<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const newTitle = document.getElementById('edit-title').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (!newTitle) return alert("<span class="s2">è«‹è¼¸å…¥ç‰©å“åç¨±ï¼</span><span class="s1">ğŸ“Œ</span>");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const oldDayIndex = data.checklists.findIndex(d =&gt; d.date === editingTaskOldDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if(oldDayIndex !== -1) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>let taskToMove = data.checklists[oldDayIndex].tasks.find(t =&gt; t.id === editingTaskId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if(taskToMove) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>data.checklists[oldDayIndex].tasks = data.checklists[oldDayIndex].tasks.filter(t =&gt; t.id !== editingTaskId);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>if (data.checklists[oldDayIndex].tasks.length === 0) data.checklists.splice(oldDayIndex, 1);</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>taskToMove.title = newTitle; taskToMove.category = newCat; taskToMove.note = document.getElementById('edit-note').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>let newDay = data.checklists.find(d =&gt; d.date === newDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>if (newDay) { newDay.tasks.push(taskToMove); } else { data.checklists.push({ date: newDate, tasks: [taskToMove] }); }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>data.checklists.sort((a, b) =&gt; { if (a.date === '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>') return -1; if (b.date === '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>') return 1; return a.date.localeCompare(b.date); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>saveData(); renderTasks(); closeModal('editModal');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s2">æ™ºæ…§å¼•æ“æ ¸å¿ƒé‚è¼¯</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function openMagicModal() {<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('magicModal').style.display = 'flex';<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>renderHistoryTags(); // <span class="s2">æ¸²æŸ“æ¨™ç±¤</span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const modeGroup = document.getElementById('magic-mode-group');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (data.checklists.length &gt; 0) { modeGroup.style.display = 'flex'; document.querySelector('input[name="magic-mode"][value="append"]').checked = true; }<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>else { modeGroup.style.display = 'none'; }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// <span class="s2">é›¢ç·šå…§å»ºè¦å‰‡</span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function getRuleBasedTasks(input) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let days = 1;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const dayMatch = input.match(/([<span class="s2">ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å</span>\d]+)<span class="s2">å¤©</span>/);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (dayMatch) { const dayMap = {"<span class="s2">ä¸€</span>":1,"<span class="s2">äºŒ</span>":2,"<span class="s2">å…©</span>":2,"<span class="s2">ä¸‰</span>":3,"<span class="s2">å››</span>":4,"<span class="s2">äº”</span>":5,"<span class="s2">å…­</span>":6,"<span class="s2">ä¸ƒ</span>":7,"<span class="s2">å…«</span>":8,"<span class="s2">ä¹</span>":9,"<span class="s2">å</span>":10}; days = parseInt(dayMatch[1]) || dayMap[dayMatch[1]] || 1; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isAbroad = /(<span class="s2">å‡ºåœ‹</span>|<span class="s2">åœ‹å¤–</span>|<span class="s2">æµ·å¤–</span>|<span class="s2">æ—¥æœ¬</span>|<span class="s2">éŸ“åœ‹</span>|<span class="s2">æ³°åœ‹</span>|<span class="s2">æ­æ´²</span>|<span class="s2">é£›æ©Ÿ</span>|<span class="s2">æ©Ÿç¥¨</span>|<span class="s2">è­·ç…§</span>|<span class="s2">å‡ºå¢ƒ</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isFlight = /(<span class="s2">å‡ºåœ‹</span>|<span class="s2">æµ·å¤–</span>|<span class="s2">é£›æ©Ÿ</span>|<span class="s2">æ­æ©Ÿ</span>|<span class="s2">æ©Ÿç¥¨</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isWinter = /(<span class="s2">å†·</span>|<span class="s2">å†¬</span>|<span class="s2">é›ª</span>|<span class="s2">å¯’æµ</span>|<span class="s2">åŒ—æµ·é“</span>|<span class="s2">å†°å³¶</span>|<span class="s2">æ»‘é›ª</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isSummer = /(<span class="s2">ç†±</span>|<span class="s2">å¤</span>|<span class="s2">é«˜æº«</span>|<span class="s2">é¿æš‘</span>|<span class="s2">ç‚ç†±</span>|<span class="s2">ä¸­æš‘</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isRain = /(<span class="s2">é›¨</span>|<span class="s2">æ¢…é›¨</span>|<span class="s2">é¢±é¢¨</span>|<span class="s2">é›·é™£é›¨</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isCamp = /(<span class="s2">å±±</span>|<span class="s2">éœ²ç‡Ÿ</span>|<span class="s2">éƒŠå¤–</span>|<span class="s2">æˆ¶å¤–</span>|<span class="s2">é‡é¤</span>|<span class="s2">ç™¾å²³</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isDrive = /(<span class="s2">é–‹è»Š</span>|<span class="s2">è»Š</span>|<span class="s2">è‡ªé§•</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isBaby = /(<span class="s2">å¯¶å¯¶</span>|<span class="s2">å¬°å…’</span>|<span class="s2">å°å­©</span>|<span class="s2">å…’å­</span>|<span class="s2">å¥³å…’</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isElderly = /(<span class="s2">é•·è¼©</span>|<span class="s2">è€äºº</span>|<span class="s2">çˆ¶æ¯</span>|<span class="s2">çˆ¸åª½</span>|<span class="s2">é˜¿å…¬</span>|<span class="s2">é˜¿å¬¤</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isMobility = /(<span class="s2">è¡Œå‹•ä¸ä¾¿</span>|<span class="s2">è¼ªæ¤…</span>|<span class="s2">æ‹æ–</span>|<span class="s2">ç„¡éšœç¤™</span>|<span class="s2">è¼”å…·</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const isPet = /(<span class="s2">å¯µç‰©</span>|<span class="s2">ç‹—</span>|<span class="s2">è²“</span>|<span class="s2">æŸ´çŠ¬</span>|<span class="s2">æ¯›å­©</span>)/.test(input);</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let isBeach = /(<span class="s2">æ°´</span>|<span class="s2">æµ·</span>|<span class="s2">æ²™ç˜</span>|<span class="s2">å¢¾ä¸</span>|<span class="s2">æ²–ç¹©</span>|<span class="s2">æ³³</span>)/.test(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (isWinter &amp;&amp; !/(<span class="s2">æº«æ³‰</span>|<span class="s2">å®¤å…§æ³³æ± </span>)/.test(input)) isBeach = false;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let needThickCoat = isWinter; if (isSummer) needThickCoat = false;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let magicTasks = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">éŒ¢åŒ…</span> / <span class="s2">ä¿¡ç”¨å¡</span> / <span class="s2">ç¾é‡‘</span>", category: "<span class="s1">ğŸ’³</span> <span class="s2">é‡è¦å¿…å‚™</span>", note: "<span class="s2">å‡ºé–€å‰å„ªå…ˆç¢ºèª</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">å€‹äººèº«åˆ†è­‰</span> / <span class="s2">å¥ä¿å¡</span>", category: "<span class="s1">ğŸ’³</span> <span class="s2">é‡è¦å¿…å‚™</span>", note: "" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">æ‰‹æ©Ÿèˆ‡å……é›»ç·š</span>", category: "<span class="s1">ğŸ”Œ</span> 3C<span class="s2">é›»å­</span>", note: "" });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (isCamp) magicTasks.push({ title: "<span class="s2">å¤§å®¹é‡è¡Œå‹•é›»æº</span>", category: "<span class="s1">ğŸ”Œ</span> 3C<span class="s2">é›»å­</span>", note: "<span class="s1">âš ï¸</span> <span class="s2">å±±å€å……é›»ä¸ä¾¿</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>else magicTasks.push({ title: "<span class="s2">è¡Œå‹•é›»æº</span>", category: "<span class="s1">ğŸ”Œ</span> 3C<span class="s2">é›»å­</span>", note: "<span class="s2">è¨˜å¾—å…ˆå……é£½é›»</span>" });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (isAbroad) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">è­·ç…§</span>", category: "<span class="s1">âœˆï¸</span> <span class="s2">å‡ºåœ‹å°ˆå±¬</span>", note: "<span class="s1">âš ï¸</span> <span class="s2">æª¢æŸ¥æœ‰æ•ˆæœŸé™å¤§æ–¼å…­å€‹æœˆ</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">ä¾†å›æ©Ÿç¥¨</span> / <span class="s2">é›»å­ç™»æ©Ÿè­‰</span>", category: "<span class="s1">âœˆï¸</span> <span class="s2">å‡ºåœ‹å°ˆå±¬</span>", note: "" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">ç•¶åœ°å¤–å¹£ç¾é‡‘</span>", category: "<span class="s1">âœˆï¸</span> <span class="s2">å‡ºåœ‹å°ˆå±¬</span>", note: `<span class="s2">ç´„</span> NT$ ${days * 3000} <span class="s2">ç­‰å€¼å‚™ç”¨</span>` });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">æµ·å¤–ç¶²è·¯å¡</span> / eSIM", category: "<span class="s1">âœˆï¸</span> <span class="s2">å‡ºåœ‹å°ˆå±¬</span>", note: "<span class="s2">ç¢ºèªé–‹é€š</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">è¬ç”¨è½‰æ¥é ­</span>", category: "<span class="s1">âœˆï¸</span> <span class="s2">å‡ºåœ‹å°ˆå±¬</span>", note: "<span class="s2">ç¢ºèªæ’åº§å½¢ç‹€</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (isDrive) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if (isAbroad) magicTasks.push({ title: "<span class="s2">å°ç£é§•ç…§</span> <span class="s2">ï¼‹</span> <span class="s2">åœ‹éš›é§•ç…§</span>/<span class="s2">è­¯æœ¬</span>", category: "<span class="s1">ğŸš—</span> <span class="s2">äº¤é€šè‡ªé§•</span>", note: "<span class="s1">âš ï¸</span> <span class="s2">ç¼ºä¸€ä¸å¯</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>else magicTasks.push({ title: "<span class="s2">æ±½è»Šé§•ç…§</span>", category: "<span class="s1">ğŸš—</span> <span class="s2">äº¤é€šè‡ªé§•</span>", note: "" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">æ›æ´—è¡£ç‰©</span> (<span class="s2">ä¸Šè¡£</span>/<span class="s2">è¤²å­</span>)", category: "<span class="s1">ğŸ‘•</span> <span class="s2">è¡£ç‰©ç©¿æ­</span>", note: `<span class="s2">å¸¶</span> ${days + 1} <span class="s2">å¥—</span>` });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">è²¼èº«å…§è¡£è¤²</span> / <span class="s2">è¥ªå­</span>", category: "<span class="s1">ğŸ‘•</span> <span class="s2">è¡£ç‰©ç©¿æ­</span>", note: `<span class="s2">å¸¶</span> ${days + 1} <span class="s2">å¥—</span>` });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">å¸¸å‚™è—¥å“</span>", category: "<span class="s1">ğŸ§´</span> <span class="s2">å€‹äººè­·ç†</span>", note: "<span class="s2">è…¸èƒƒè—¥ã€æ­¢ç—›è—¥</span>" });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (needThickCoat) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">é˜²é¢¨ä¿æš–åšå¤–å¥—</span>", category: "<span class="s1">â„ï¸</span> <span class="s2">å†¬å­£ä¿æš–</span>", note: "" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">ç™¼ç†±è¡£è¤²</span> / <span class="s2">æ¯›å¸½</span> / <span class="s2">æ‰‹å¥—</span>", category: "<span class="s1">â„ï¸</span> <span class="s2">å†¬å­£ä¿æš–</span>", note: "<span class="s2">æ´‹è”¥å¼ç©¿æ­</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (isBeach) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">æ³³è¡£</span> / <span class="s2">æµ·ç˜æ‹–é‹</span>", category: "<span class="s1">ğŸ–ï¸</span> <span class="s2">ç©æ°´è£å‚™</span>", note: "" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">æµ·æ´‹å‹å–„é˜²æ›¬ä¹³</span>", category: "<span class="s1">ğŸ–ï¸</span> <span class="s2">ç©æ°´è£å‚™</span>", note: "<span class="s2">ä¿è­·çŠç‘šç¾¤</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (isBaby) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">å…’ç«¥æ‰‹å†Š</span> / <span class="s2">å¥ä¿å¡</span>", category: "<span class="s1">ğŸ’³</span> <span class="s2">é‡è¦å¿…å‚™</span>", note: "<span class="s2">å°±é†«èº«åˆ†è­‰</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">å¯¶å¯¶å°¿å¸ƒ</span>", category: "<span class="s1">ğŸ¼</span> <span class="s2">å¯¶å¯¶å°ˆå±¬</span>", note: `<span class="s2">ç´„å¸¶</span> ${days * 7 + 3} <span class="s2">ç‰‡</span>` });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">å¥¶ç²‰</span> / <span class="s2">å‰¯é£Ÿå“</span>", category: "<span class="s1">ğŸ¥£</span> <span class="s2">é£²é£Ÿç›¸é—œ</span>", note: `<span class="s2">æº–å‚™</span> ${days + 1} <span class="s2">å¤©ä»½é‡</span>` });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">å¥¶ç“¶èˆ‡ä¿æº«ç“¶</span>", category: "<span class="s1">ğŸ¼</span> <span class="s2">å¯¶å¯¶å°ˆå±¬</span>", note: "<span class="s2">å¸¶æ›¿æ›ç“¶</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">ç´”æ°´æ¿•ç´™å·¾</span>", category: "<span class="s1">ğŸ¼</span> <span class="s2">å¯¶å¯¶å°ˆå±¬</span>", note: "<span class="s2">å¸¶</span> 2 <span class="s2">å¤§åŒ…</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">è¼•ä¾¿æ¨è»Š</span>", category: "<span class="s1">ğŸš—</span> <span class="s2">äº¤é€šè‡ªé§•</span>", note: "<span class="s2">å‡ºéŠå¿…å‚™</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (isElderly) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">æ…¢æ€§ç—…è—¥ç‰©</span> / <span class="s2">é€£çºŒè™•æ–¹ç®‹</span>", category: "<span class="s1">ğŸ‘µ</span> <span class="s2">é•·è¼©å°ˆå±¬</span>", note: `<span class="s1">âš ï¸</span> <span class="s2">å‹™å¿…å¸¶è¶³</span> ${days + 3} <span class="s2">å¤©ä»½é‡</span>` });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">é˜²æ»‘æ°£å¢Šé‹</span>", category: "<span class="s1">ğŸ‘µ</span> <span class="s2">é•·è¼©å°ˆå±¬</span>", note: "<span class="s2">ä¿è­·è†è“‹é˜²è·Œå€’</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">è¬é‡‘æ²¹</span> / <span class="s2">ç— ç—›è²¼å¸ƒ</span>", category: "<span class="s1">ğŸ‘µ</span> <span class="s2">é•·è¼©å°ˆå±¬</span>", note: "<span class="s2">é˜²æšˆè»Šã€è§£ç— ç—›</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (isPet) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">å¯µç‰©ç‰½ç¹©</span> / <span class="s2">èƒ¸èƒŒå¸¶</span>", category: "<span class="s1">ğŸ•</span> <span class="s2">å¯µç‰©å°ˆå±¬</span>", note: "<span class="s2">é˜²èµ°å¤±å¿…å‚™</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">æ’¿ä¾¿è¢‹</span> / <span class="s2">å°¿å¸ƒå¢Š</span>", category: "<span class="s1">ğŸ•</span> <span class="s2">å¯µç‰©å°ˆå±¬</span>", note: "<span class="s2">åšå€‹å¥½ä¸»äºº</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>magicTasks.push({ title: "<span class="s2">å¯µç‰©é£¼æ–™</span> / <span class="s2">é›¶é£Ÿ</span>", category: "<span class="s1">ğŸ•</span> <span class="s2">å¯µç‰©å°ˆå±¬</span>", note: "<span class="s2">å®‰æ’«æƒ…ç·’</span>" });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return magicTasks;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>async function runMagicEngine() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const input = document.getElementById('magic-prompt').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (!input.trim()) return alert("<span class="s2">è«‹è¼¸å…¥æ‚¨çš„è¡Œç¨‹å–”ï¼</span><span class="s1">ğŸ’¡</span>");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>saveHistory(input.trim());</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const apiKey = localStorage.getItem('univ_api_key');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const provider = localStorage.getItem('univ_api_provider') || 'gemini';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const btn = document.getElementById('magic-submit-btn');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const originalBtnText = btn.innerHTML;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>btn.disabled = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let finalTasks = [];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (apiKey) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>btn.innerHTML = '<span class="s1">ğŸ§ </span> <span class="s2">çœŸâ€§</span>AI <span class="s2">æ·±åº¦æ€è€ƒä¸­</span>... (<span class="s2">ç´„</span>5~10<span class="s2">ç§’</span>)';</p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const promptText = `</span>ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„è¡Œææ‰“åŒ…åŠ©ç†ã€‚è«‹é–±è®€è¡Œç¨‹ï¼šã€Œ<span class="s4">${input}</span>ã€ï¼Œæ€è€ƒå¯èƒ½çš„çªç™¼ç‹€æ³ã€å¤©æ°£ã€äººç‰©å±¬æ€§<span class="s4">(</span>é•·è¼©<span class="s4">/</span>å¬°å…’<span class="s4">/</span>å¯µç‰©ç­‰<span class="s4">)</span>ã€äº¤é€šå·¥å…·ï¼Œåˆ—å‡ºè¶…è©³ç´°æ¸…å–®ã€‚</p>
<p class="p1"><span class="s2">è«‹åš´æ ¼å›å‚³</span>JSON Array<span class="s2">ï¼Œæ ¼å¼å¦‚ï¼š</span>[{"title": "<span class="s2">ç‰©å“åç¨±</span>","category": "<span class="s2">åˆ†é¡åç¨±é™„</span>Emoji","note": "<span class="s2">å‚™è¨»èªªæ˜</span>"}]</p>
<p class="p3">æ¨è–¦åˆ†é¡<span class="s4">: </span><span class="s1">ğŸ’³</span><span class="s4"> </span>é‡è¦å¿…å‚™<span class="s4">, </span><span class="s1">âœˆï¸</span><span class="s4"> </span>å‡ºåœ‹å°ˆå±¬<span class="s4">, </span><span class="s1">ğŸ‘•</span><span class="s4"> </span>è¡£ç‰©ç©¿æ­<span class="s4">, </span><span class="s1">ğŸ§´</span><span class="s4"> </span>å€‹äººè­·ç†<span class="s4">, </span><span class="s1">ğŸ”Œ</span><span class="s4"> 3C</span>é›»å­<span class="s4">, </span><span class="s1">ğŸ¥£</span><span class="s4"> </span>é£²é£Ÿç›¸é—œ<span class="s4">, </span><span class="s1">ğŸ¼</span><span class="s4"> </span>å¯¶å¯¶å°ˆå±¬<span class="s4">, </span><span class="s1">ğŸ‘µ</span><span class="s4"> </span>é•·è¼©å°ˆå±¬<span class="s4">, </span><span class="s1">ğŸ¦½</span><span class="s4"> </span>ç„¡éšœç¤™è¼”å…·<span class="s4">, </span><span class="s1">ğŸ•</span><span class="s4"> </span>å¯µç‰©å°ˆå±¬<span class="s4">, </span><span class="s1">â„ï¸</span><span class="s4"> </span>å†¬å­£ä¿æš–<span class="s4">, </span><span class="s1">ğŸ–ï¸</span><span class="s4"> </span>ç©æ°´è£å‚™<span class="s4">, </span><span class="s1">ğŸ•ï¸</span><span class="s4"> </span>æˆ¶å¤–éœ²ç‡Ÿ<span class="s4">, </span><span class="s1">ğŸ’¼</span><span class="s4"> </span>å•†å‹™å·¥ä½œ<span class="s4">, </span><span class="s1">ğŸš—</span><span class="s4"> </span>äº¤é€šè‡ªé§•ã€‚é™åˆ¶<span class="s4">: </span>åªè¦ç´”<span class="s4"> JSON</span>ã€‚<span class="s4">`;</span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>let aiResponseText = "";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>if (provider === 'gemini') {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${apiKey}`, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>method: 'POST', headers: { 'Content-Type': 'application/json' },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>body: JSON.stringify({ contents: [{ parts: [{ text: promptText }] }], generationConfig: { temperature: 0.2 } })</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>if (!response.ok) throw new Error(`Gemini <span class="s2">éŒ¯èª¤ç¢¼</span>: ${response.status}`);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const resultData = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>aiResponseText = resultData.candidates[0].content.parts[0].text;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const response = await fetch(`https://api.openai.com/v1/chat/completions`, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>method: 'POST', headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${apiKey}` },</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>body: JSON.stringify({ model: "gpt-4o-mini", messages: [{ role: "system", content: "You are a helpful assistant." }, { role: "user", content: promptText }], temperature: 0.2 })</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>if (!response.ok) throw new Error(`OpenAI <span class="s2">éŒ¯èª¤ç¢¼</span>: ${response.status}`);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const resultData = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>aiResponseText = resultData.choices[0].message.content;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>aiResponseText = aiResponseText.replace(/```json/gi, '').replace(/```/g, '').trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>finalTasks = JSON.parse(aiResponseText);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>if (!Array.isArray(finalTasks)) throw new Error("<span class="s2">æ ¼å¼ä¸æ­£ç¢º</span>");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>console.error(error);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>alert("<span class="s1">âš ï¸</span> API <span class="s2">å‘¼å«å¤±æ•—æˆ–ç„¡æ•ˆ</span> (<span class="s2">å¯èƒ½æ˜¯é¡åº¦è€—ç›¡æˆ–</span> Key <span class="s2">éŒ¯èª¤</span>)<span class="s2">ã€‚</span>\n\n<span class="s2">å°‡è‡ªå‹•ç‚ºæ‚¨åˆ‡æ›è‡³ã€Œå…§å»ºæ¥µé€Ÿæ™ºæ…§å¼•æ“ã€ç”¢ç”Ÿæ¸…å–®ï¼</span>");</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>finalTasks = getRuleBasedTasks(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>btn.innerHTML = '<span class="s1">âœ¨</span> <span class="s2">å…§å»ºå¼•æ“æ¥µé€Ÿåˆ†æä¸­</span>...';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>await new Promise(r =&gt; setTimeout(r, 600));<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>finalTasks = getRuleBasedTasks(input);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (data.checklists.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const mode = document.querySelector('input[name="magic-mode"]:checked').value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if (mode === 'overwrite') data.checklists = [];<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const targetDate = "<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>";</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let existingDate = data.checklists.find(d =&gt; d.date === targetDate);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (!existingDate) { data.checklists.push({ date: targetDate, tasks: [] }); existingDate = data.checklists[data.checklists.length - 1]; }</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>finalTasks.forEach(task =&gt; {<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>existingDate.tasks.push({<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>id: 't' + Date.now() + Math.random(),<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>title: task.title || "<span class="s2">æœªçŸ¥ç‰©å“</span>",<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>isCompleted: false,<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>category: task.category || "<span class="s1">ğŸ“</span> <span class="s2">å…¶ä»–é›œé …</span>",<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>note: task.note || ""<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>});<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>data.checklists.sort((a, b) =&gt; { if (a.date === targetDate) return -1; if (b.date === targetDate) return 1; return a.date.localeCompare(b.date); });</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>saveData(); renderTasks();<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>document.getElementById('magic-prompt').value = '';<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>closeModal('magicModal');</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>btn.innerHTML = originalBtnText; btn.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function addNewTask() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const dateSelect = document.getElementById('new-date-select');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let dateInput = dateSelect.value === 'custom' ? document.getElementById('new-date-input').value : dateSelect.value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (dateSelect.value === 'custom' &amp;&amp; !dateInput) return alert("<span class="s2">è«‹é¸æ“‡æ—¥æœŸå–”ï¼</span><span class="s1">ğŸ—“ï¸</span>");</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const catSelect = document.getElementById('new-category-select');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const catInputEl = document.getElementById('new-category-input');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let catInput = (catSelect.style.display === 'none' || catSelect.value === 'custom') ? catInputEl.value.trim() : catSelect.value;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (!catInput) catInput = "<span class="s1">ğŸ“</span> <span class="s2">å…¶ä»–é›œé …</span>";<span class="Apple-converted-space">Â </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const titleInput = document.getElementById('new-title').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (!titleInput) return alert("<span class="s2">è«‹è¼¸å…¥ç‰©å“åç¨±ï¼</span><span class="s1">ğŸ“Œ</span>");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const newTask = { id: 't' + Date.now(), title: titleInput, isCompleted: false, category: catInput, note: document.getElementById('new-note').value.trim() };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>let existingDate = data.checklists.find(d =&gt; d.date === dateInput);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (existingDate) { existingDate.tasks.push(newTask); } else { data.checklists.push({ date: dateInput, tasks: [newTask] }); }</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>data.checklists.sort((a, b) =&gt; { if (a.date === '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>') return -1; if (b.date === '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>') return 1; return a.date.localeCompare(b.date); });</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>saveData(); renderTasks(); document.getElementById('new-title').value = ''; document.getElementById('new-note').value = ''; catInputEl.value = ''; closeModal('addModal');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// --- <span class="s2">ç•«é¢æ¸²æŸ“</span> ---</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>function renderTasks() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>appDiv.innerHTML = '';<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const btnShare = document.getElementById('btn-share');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>const btnClear = document.getElementById('btn-clear');</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if(data.checklists.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>btnShare.style.display = 'none'; btnClear.style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>appDiv.innerHTML = '&lt;div style="text-align:center; padding: 60px 20px; color:#a6b5c0; font-size: 1.1em; line-height: 1.8;"&gt;<span class="s2">æ¸…å–®ç©ºç©ºçš„å‘¢</span> <span class="s1">â˜ï¸</span>&lt;br&gt;<span class="s2">æŒ‰ä¸‹å·¦ä¸‹è§’çš„</span> <span class="s1">ğŸ’¡</span> <span class="s2">è®“</span> AI <span class="s2">ç‚ºæ‚¨æº–å‚™æ¸…å–®å§ï¼</span>&lt;/div&gt;';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>return;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>btnShare.style.display = 'inline-flex'; btnClear.style.display = 'inline-flex';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>data.checklists.forEach(day =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const section = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>section.className = 'date-section';</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const title = document.createElement('div'); title.className = 'date-title';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>title.innerHTML = day.date === '<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§æ‰“åŒ…ç¸½è¡¨</span>' ? `<span class="s1">ğŸ’</span> <span class="s2">æ™ºæ…§å¿«é€Ÿç¸½è¡¨</span>` : `<span class="s1">ğŸ—“ï¸</span> ${day.date}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>section.appendChild(title);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>const groupedTasks = {};</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>day.tasks.forEach(task =&gt; { if (!groupedTasks[task.category]) groupedTasks[task.category] = []; groupedTasks[task.category].push(task); });</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>Object.keys(groupedTasks).sort().forEach(category =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const style = getCategoryStyle(category);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const catHeader = document.createElement('div'); catHeader.className = 'category-header';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>catHeader.innerHTML = `&lt;span style="background:${style.line}; width:8px; height:16px; border-radius:4px; margin-right:10px; display:inline-block;"&gt;&lt;/span&gt;${category}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>section.appendChild(catHeader);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>groupedTasks[category].forEach(task =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const itemDiv = document.createElement('div'); itemDiv.className = 'task-item';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const checkbox = document.createElement('input'); checkbox.type = 'checkbox'; checkbox.id = task.id; checkbox.checked = task.isCompleted;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>checkbox.onchange = (e) =&gt; { task.isCompleted = e.target.checked; saveData(); renderTasks(); };</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const checkLabel = document.createElement('label'); checkLabel.className = 'check-icon'; checkLabel.htmlFor = task.id;<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const content = document.createElement('div'); content.className = `task-content ${task.isCompleted ? 'completed' : ''}`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const noteHtml = task.note ? `&lt;div class="task-note"&gt;${task.note}&lt;/div&gt;` : '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>content.innerHTML = `&lt;div class="task-title"&gt;${task.title} &lt;span class="category-tag" style="background:${style.bg}; color:${style.color};"&gt;${category.split(' ')[0]}&lt;/span&gt;&lt;/div&gt;${noteHtml}`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const actionsDiv = document.createElement('div'); actionsDiv.className = 'task-actions';</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const editBtn = document.createElement('button'); editBtn.className = 'edit-btn'; editBtn.innerHTML = '<span class="s1">âœï¸</span>';<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>editBtn.onclick = () =&gt; openEditModal(day.date, task.id);</p>
<p class="p2"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>const deleteBtn = document.createElement('button'); deleteBtn.className = 'delete-btn'; deleteBtn.innerHTML = '<span class="s3">âœ–</span>';<span class="Apple-converted-space">Â </span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>// <span class="s1">âœ¨</span> <span class="s2">åœ¨é€™è£¡å‚³å…¥</span> task.title <span class="s2">ç¢ºä¿é˜²å‘†å½ˆçª—èƒ½æ­£å¸¸è®€å–åç¨±</span></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>deleteBtn.onclick = () =&gt; deleteTask(day.date, task.id, task.title);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>actionsDiv.appendChild(editBtn); actionsDiv.appendChild(deleteBtn);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>itemDiv.appendChild(checkbox); itemDiv.appendChild(checkLabel); itemDiv.appendChild(content); itemDiv.appendChild(actionsDiv);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>section.appendChild(itemDiv);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>appDiv.appendChild(section);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>loadData();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>renderTasks();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
